<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `avcodec_encode_video2` fn in crate `av_sys`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, avcodec_encode_video2">

    <title>av_sys::avcodec_encode_video2 - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc fn">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>av_sys</a></p><script>window.sidebarCurrent = {name: 'avcodec_encode_video2', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Function <a href='index.html'>av_sys</a>::<wbr><a class="fn" href=''>avcodec_encode_video2</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/av_sys/home/travis/build/panicbit/rust-av/target/debug/build/av_sys-5aff961289ea4337/out/ffi.rs.html#4015' title='goto source code'>[src]</a></span></h1>
<pre class='rust fn'>pub unsafe extern fn avcodec_encode_video2(<br>&nbsp;&nbsp;&nbsp;&nbsp;avctx: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="struct" href="../av_sys/struct.AVCodecContext.html" title="struct av_sys::AVCodecContext">AVCodecContext</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;avpkt: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="struct" href="../av_sys/struct.AVPacket.html" title="struct av_sys::AVPacket">AVPacket</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;frame: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*const </a><a class="struct" href="../av_sys/struct.AVFrame.html" title="struct av_sys::AVFrame">AVFrame</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;got_packet_ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="type" href="https://doc.rust-lang.org/nightly/std/os/raw/type.c_int.html" title="type std::os::raw::c_int">c_int</a><br>) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/std/os/raw/type.c_int.html" title="type std::os::raw::c_int">c_int</a></pre><div class='docblock'><p>Encode a frame of video.</p>

<p>Takes input raw video data from frame and writes the next output packet, if
available, to avpkt. The output packet does not necessarily contain data for
the most recent frame, as encoders can delay and reorder input frames
internally as needed.</p>

<p>@param avctx     codec context
@param avpkt     output AVPacket.
                 The user can supply an output buffer by setting
                 avpkt-&gt;data and avpkt-&gt;size prior to calling the
                 function, but if the size of the user-provided data is not
                 large enough, encoding will fail. All other AVPacket fields
                 will be reset by the encoder using av_init_packet(). If
                 avpkt-&gt;data is NULL, the encoder will allocate it.
                 The encoder will set avpkt-&gt;size to the size of the
                 output packet. The returned data (if any) belongs to the
                 caller, he is responsible for freeing it.</p>

<pre class="rust rust-example-rendered">
<span class="ident">If</span> <span class="ident">this</span> <span class="ident">function</span> <span class="ident">fails</span> <span class="ident">or</span> <span class="ident">produces</span> <span class="ident">no</span> <span class="ident">output</span>, <span class="ident">avpkt</span> <span class="ident">will</span> <span class="ident">be</span>
             <span class="ident">freed</span> <span class="ident">using</span> <span class="ident">av_packet_unref</span>().</pre>

<p>@param[in] frame AVFrame containing the raw video data to be encoded.
                 May be NULL when flushing an encoder that has the
                 AV_CODEC_CAP_DELAY capability set.
@param[out] got_packet_ptr This field is set to 1 by libavcodec if the
                           output packet is non-empty, and to 0 if it is
                           empty. If the function returns an error, the
                           packet can be assumed to be invalid, and the
                           value of got_packet_ptr is undefined and should
                           not be used.
@return          0 on success, negative error code on failure</p>

<p>@deprecated use avcodec_send_frame()/avcodec_receive_packet() instead</p>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "av_sys";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>